// file:noinspection DependencyNotationArgument
// TODO remove when fixed in RFG ^
dependencies {
    // Hard Dependencies
    // the CCL deobf jar uses very old MCP mappings, making it error at runtime in runClient/runServer
    // therefore we manually deobf the regular jar
    implementation rfg.deobf("curse.maven:codechicken-lib-1-8-${ccl_pid}:${ccl_fid}")

    // Soft Dependencies
    implementation "mezz.jei:jei_1.12.2:${project.jei_version}"
    implementation "CraftTweaker2:CraftTweaker2-MC1120-Main:1.12-${project.crt_version}"
    implementation rfg.deobf("curse.maven:top-${top_pid}:${top_fid}")
    implementation rfg.deobf("curse.maven:ctm-${ctm_pid}:${ctm_fid}")

    // use a local jar for GroovyScript to avoid a bug from Mixin and ForgeGradle,
    // causing crashes at run-time when deobfuscated
    implementation files("libs/groovyscript-0.4.0.jar")
    //implementation fg.deobf("curse.maven:groovyscript-${grs_pid}:${grs_fid}")

    // Can change any of the below from compileOnlyApi -> implementation to test them in-game.
    // Left as compileOnlyApi by default for a slimmer default instance.
    compileOnlyApi rfg.deobf("curse.maven:ae2-extended-life-${ae2_pid}:${ae2_fid}")
    compileOnlyApi rfg.deobf("curse.maven:opencomputers-${oc_pid}:${oc_fid}")
    compileOnlyApi "curse.maven:journeymap-${jm_pid}:${jm_fid}"
    compileOnlyApi "curse.maven:voxelmap-${voxel_pid}:${voxel_fid}"
    compileOnlyApi "curse.maven:xaeros-${xaeros_pid}:${xaeros_fid}"

    // Compile-Time Dependencies
    annotationProcessor "com.github.bsideup.jabel:jabel-javac-plugin:${jabel_version}"
    // workaround for https://github.com/bsideup/jabel/issues/174
    annotationProcessor "net.java.dev.jna:jna-platform:${jna_version}"
    compileOnly("com.github.bsideup.jabel:jabel-javac-plugin:${jabel_version}") {
        transitive = false // We only care about the 1 annotation class
    }
    // Allow jdk.unsupported classes like sun.misc.Unsafe, workaround for JDK-8206937 and fixes Forge crashes in tests.
    patchedMinecraft "me.eigenraven.java8unsupported:java-8-unsupported-shim:${unsupported_shim_version}"

    // Tests
    testImplementation "org.junit.jupiter:junit-jupiter:${junit_version}"
    testImplementation "org.hamcrest:hamcrest:${hamcrest_version}"

    // ae2 is a transitive dependency for MTE, so it's also needed at test-time
    testImplementation rfg.deobf("curse.maven:ae2-extended-life-${ae2_pid}:${ae2_fid}")

    // allow Jabel to work in tests
    testAnnotationProcessor "com.github.bsideup.jabel:jabel-javac-plugin:${jabel_version}"
    testCompileOnly("com.github.bsideup.jabel:jabel-javac-plugin:${jabel_version}") {
        transitive = false // We only care about the 1 annotation class
    }
    testCompileOnly "me.eigenraven.java8unsupported:java-8-unsupported-shim:${unsupported_shim_version}"

    // GroovyScript dependency
    implementation "zone.rong:mixinbooter:${mixinbooter_version}"

    // Mixin dependencies
    api("org.spongepowered:mixin:${mixin_version}") {
        transitive = false
    }
    annotationProcessor("org.spongepowered:mixin:${mixin_version}") {
        transitive = false
    }

    annotationProcessor "org.ow2.asm:asm-debug-all:${asm_debug_version}"
    annotationProcessor "com.google.guava:guava:${guava_version}-jre"
    annotationProcessor "com.google.code.gson:gson:${gson_version}"
}
